




<div class="card shadow mb-4">
  <div class="card-body text-center text-primary">

    <div class="row">
      <div class="col border-right">
        <div class="marti-logo-full mb-4"></div>
        <p class="card-text">For installation and usage instructions, see <a class="visibleUrl" href="https://marti.readthedocs.io/" target="_blank">Documentation</a></p>
      </div>
      <div class="col border-right mt-3">
        <div>
          <p class="card-text h5 mb-3 font-weight-bold">Dashboard mode</p>
          <p class="card-text mb-1">Ideal for monitoring a single run/sample in real-time.</p>
          <p class="card-text mb-0">Click the <i class="fas fa-tachometer-alt"></i> icon next to the sample you wish to load into Dashboard mode.</p>
        </div>
      </div>
      <div class="col mt-3">
        <div>
          <p class="card-text h5 mb-3 font-weight-bold">Compare mode</p>
          <p class="card-text mb-1">Comparison plots for real-time and previously analysed samples.</p>
          <p class="card-text mb-0">To access Compare mode, select at least one sample using the <i class="far fa-check-square"></i> below. </p>
        </div>
      </div>
    </div>





  </div>
</div>



<!-- Export card-->
<div class="card shadow mb-4" id="sampleExportCard">
<div class="card-header d-flex flex-row align-items-center justify-content-between collapsed pointer" href="#collapseSampleExport" aria-expanded="false" data-toggle="collapse" role="button"">
<h6 class="m-0 font-weight-bold text-primary">Export data</h6>

</div>

  <div class="card-body-custom p-4 collapse" id="collapseSampleExport"">


    <div class="form-group row">
      <div class="col-sm-3 col-form-label">
        <label for="exportLcaCutoff">LCA minimum abundance cutoff:</label>
        <!-- <i class="fas fa-info-circle" data-tooltip="LCA minimum abundance cutoff."></i> -->
      </div>

      <div class="col-auto col-form-label" name="exportLcaCutoff">
        <label class="pr-3"><input type="radio" name="exportLcaCutoffToggle" value="0.0" >  0%</label>
        <label class="pr-3"><input type="radio" name="exportLcaCutoffToggle" value="0.1" checked>  0.1%</label>
        <label class="pr-3"><input type="radio" name="exportLcaCutoffToggle" value="1.0" >  1%</label>
        <label class="pr-3"><input type="radio" name="exportLcaCutoffToggle" value="2.0" >  2%</label>
      </div>
    </div>



    <div class="form-group row">
      <div class="col-sm-3 col-form-label">
        <label for="exportTaxRank">Taxonomic rank:</label>
        <!-- <i class="fas fa-info-circle" data-tooltip="Specifies the taxonomic rank to export."></i> -->
      </div>

      <div class="col-auto">
        <select class="form-control" name="exportTaxRank">

        </select>
      </div>
    </div>


  <div class="form-group row">

    <div class="col-sm-3 col-form-label">
      <label for="exportColumns">Columns:</label>
      <!-- <i class="fas fa-info-circle" data-tooltip="Select columns to export."></i> -->
    </div>

    <div class="col-auto col-form-label">
    <div class="form-check form-check-inline">
      <input class="form-check-input toggle-vis export-col" type="checkbox" data-value="name" data-header="Name" checked>
      <label class="form-check-label" for="exportColCheckbox1">Name</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input toggle-vis export-col" type="checkbox" data-value="ncbiId" data-header="NCBI ID" checked>
      <label class="form-check-label" for="exportColCheckbox2">NCBI ID</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input toggle-vis export-col" type="checkbox" data-value="ncbiRank" data-header="NCBI Rank" checked>
      <label class="form-check-label" for="exportColCheckbox3">Rank</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input toggle-vis export-col" type="checkbox" data-value="readCount" data-header="Read count" checked>
      <label class="form-check-label" for="exportColCheckbox4">Read count</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input toggle-vis export-col" type="checkbox" data-value="summedCount" data-header="Summed count" checked>
      <label class="form-check-label" for="exportColCheckbox5">Summed read count</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input toggle-vis export-col" type="checkbox" data-value="meanIdentity" data-header="Mean identity">
      <label class="form-check-label" for="exportColCheckbox5">Mean identity</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input toggle-vis export-col" type="checkbox" data-value="meanMaxIdentity" data-header="Mean max identity">
      <label class="form-check-label" for="exportColCheckbox5">Mean max identity</label>
    </div>
  </div>
  </div>

  <div class="form-group row">
    <div class="col-sm-3 col-form-label">
      <label for="exportDelimiter">Field separator:</label>
      <!-- <i class="fas fa-info-circle" data-tooltip="LCA minimum abundance cutoff."></i> -->
    </div>

    <div class="col-auto col-form-label" name="exportDelimiter">
      <label class="pr-3"><input type="radio" name="exportDelimiterToggle" data-delimiter="," data-extension="csv" value="comma" >  Comma</label>
      <label class="pr-3"><input type="radio" name="exportDelimiterToggle" data-delimiter="\t" data-extension="tsv" value="tab" >  Tab</label>
      <label class="pr-3"><input type="radio" name="exportDelimiterToggle" data-delimiter=":" data-extension="txt" value="colon" >  Colon</label>
      <label class="pr-3"><input type="radio" name="exportDelimiterToggle" data-delimiter=";" data-extension="txt" value="semicolon" checked>  Semicolon</label>
      <!-- <label class="pr-3"><input type="radio" name="exportDelimiterToggle" data-delimiter=" " data-extension="txt" value="space" >  Space</label> -->
    </div>
  </div>

  <input class="btn btn-primary mb-1" id="sampleExportButton" type="button" value="Export">

  </div>
</div>

<!-- Map card-->
<div class="card shadow mb-4" id="sampleMapCard">
<div class="card-header d-flex flex-row align-items-center justify-content-between collapsed pointer" href="#collapseSampleMap" aria-expanded="false" data-toggle="collapse" role="button">
<!-- <div class="card-header d-flex flex-row align-items-center justify-content-between pointer" href="#collapseSampleMap" aria-expanded="true" data-toggle="collapse" role="button""> -->
<h6 class="m-0 font-weight-bold text-primary">Sample Map</h6>
</div>

  <div class="card-body-custom collapse" id="collapseSampleMap">
  <!-- <div class="card-body-custom collapse show" id="collapseSampleMap"> -->

  <div id="sampleMapPlotWarning" class="row">
     <div class="col-auto pl-5 p-2">
         <a class=""><i class="fas fa-exclamation-triangle"></i> Unstable internet connection detected!</a>
     </div>
   </div>

 <div id="sampleMap">

 </div>


  </div>
</div>



            <div class="card shadow mb-4">
              <div class="card-header d-flex flex-row align-items-center justify-content-between">
                <h6 class="m-0 font-weight-bold text-primary">Sample selector</h6>
                <div class="col-xs-2 searchContainer">
                  <i class="fa fa-search fa-sm searchIcon"></i>
                <input class="form-control form-control-sm searchBox" type="text" placeholder="Search..." id="sampleTableSearchBox">
                </div>
              </div>
              <div class="card-body">

                <div id="" class="row justify-content-between px-3 pb-3">
                      <a class=""><i class="fas fa-info-circle"></i> Shift click on column headers for multi-column ordering.</a>
                      <button id="" type="button" class="btn btn-primary compareSamplesInput">Compare samples</button>
                </div>
                <div class="table-responsive">
                  <table class="table table-bordered table-hover" id="samplePageDataTable" width="100%" cellspacing="0">
                    <thead>
                      <tr>
                        <th class="select-checkbox"></th>
                        <th>Sample ID</th>
                        <th>Run ID</th>
                        <th>Yield (Gb)</th>
                        <th>Basecalled reads</th>
                        <th>Reads analysed</th>
                        <th>Pipeline</th>
                        <th>Status</th>
                        <th>Sequencing date</th>
                        <th>Analysis date</th>
                        <th>More info</th>
                      </tr>
                    </thead>
                    <tfoot>
                      <tr>
                      </tr>
                    </tfoot>
                    <tbody>
                      <!-- populate with JS -->
                    </tbody>
                  </table>
                </div>

                <div class="modal-footer">
                  <button id="" type="button" class="btn btn-primary compareSamplesInput">Compare samples</button>
                </div>

              </div>
            </div>

            <!-- Sample Info Modal -->
            <div class="modal" id="sampleInfoModal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Sample information</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">

                  <dl class="row">

                    <div class="col-12 sampleDataHeader"><h5 class="text-dark">Sample</h5></div>

                    <dt class="col-sm-6">Name:</dt>
                    <!-- <dd class="col-sm-6" id="sampleDataSampleName">the_sample_name</dd> -->
                    <dd class="col-sm-6"><input type="text" class="form-control" id="sampleDataSampleName" value="" placeholder="" disabled></dd>


                    <dt class="col-sm-6">Run:</dt>
                    <dd class="col-sm-6" id="sampleDataRunName">the_run_id</dd>

                    <dt class="col-sm-6">Sequencing date:</dt>
                    <dd class="col-sm-6" id="sampleDataSequencingDate">10/06/2022</dd>

                    <dt class="col-sm-6">Analysis date:</dt>
                    <dd class="col-sm-6" id="sampleDataAnalysisDate">11/06/2022</dd>

                    <div class="col-12 sampleDataHeader"><h5 class="text-dark">Summary</h5></div>

                    <dt class="col-sm-6">Yield (Gb):</dt>
                    <dd class="col-sm-6" id="sampleDataYieldGb">17.5</dd>

                    <dt class="col-sm-6">Basecalled reads:</dt>
                    <dd class="col-sm-6" id="sampleDataBasecalledReads">127,893</dd>

                    <dt class="col-sm-6">Reads passed filter:</dt>
                    <dd class="col-sm-6" id="sampleDataReadsPassedFilter">127,893</dd>

                    <dt class="col-sm-6">Reads analysed:</dt>
                    <dd class="col-sm-6" id="sampleDataReadsAnalysed">127,893</dd>

                    <dt class="col-sm-6">Reads classified:</dt>
                    <dd class="col-sm-6" id="sampleDataReadsClassified">127,893</dd>

                    <dt class="col-sm-6">Reads unclassified:</dt>
                    <dd class="col-sm-6" id="sampleDataReadsUnclassified">127,893</dd>

                    <dt class="col-sm-6">Reads with poor alignments:</dt>
                    <dd class="col-sm-6" id="sampleDataReadsPoorAlignments">127,893</dd>


                    <div class="col-12 sampleDataHeader"><h5 class="text-dark">Analysis</h5></div>

                    <dt class="col-sm-6">MARTi Engine version:</dt>
                    <dd class="col-sm-6" id="sampleDataMartiVersion">v0.9.10</dd>

                    <dt class="col-sm-6">Status:</dt>
                    <dd class="col-sm-6" id="sampleDataAnalysisStatus">Complete</dd>

                    <dt class="col-sm-6">Pipeline:</dt>
                    <dd class="col-sm-6" id="sampleDataAnalysisPipeline">BlastLCA</dd>
                  </dl>

                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
            </div>

            <!-- Export Modal -->
            <div class="modal" id="exportModal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Please select at least one sample!</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <p>In order to export data, you must select at least one sample from the Sample selector table below using the checkboxes <i class="far fa-check-square"></i></p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>
